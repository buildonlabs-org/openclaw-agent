OpenClaw Gateway - Device Pairing Update
=========================================

KEY CHANGES:
-----------
1. Gateway auto-generates secure token and displays it in logs
2. Device management API added for web-based pairing (no CLI needed!)


DEVICE PAIRING SOLUTION:
------------------------
The container now includes a device management API that eliminates the need
for manual CLI commands. Users can approve device pairing requests through
the launcher web UI.

**New API Endpoints:**
  GET  /api/devices          â†’ List all devices (pending and approved)
  POST /api/devices/approve  â†’ Approve a device by requestId

**How It Works:**
1. User connects to gateway from browser/client
2. OpenClaw creates pending device pairing request
3. Launcher UI shows "ğŸ” Pair Device" button
4. User clicks to see pending devices
5. User clicks "Approve" next to pending device
6. Device is approved instantly via API
7. User refreshes and connection works

**Benefits:**
âœ“ No manual CLI access needed
âœ“ Non-technical user friendly
âœ“ Real-time device approval
âœ“ Works with Railway deployments
âœ“ Launcher handles everything via web UI


AUTHENTICATION:
--------------
1. Gateway REQUIRES authentication (cannot run without it)

2. Auto-generated token printed to logs:
   â†’ Token generated using openssl rand -hex 32 (64 characters)
   â†’ Displayed in Railway logs during startup
   â†’ Look for: "ğŸ”‘ Copy this token to connect to your gateway:"
   â†’ Token changes on each restart (unless OPENCLAW_GATEWAY_TOKEN is set)

3. Persistent token option:
   â†’ Set OPENCLAW_GATEWAY_TOKEN env var for static token
   â†’ Recommended for production deployments
   â†’ Persists across container restarts


HOW TO CONNECT:
---------------
1. Deploy the app to Railway
2. Check Railway logs for startup output
3. Find the line: "ğŸ”‘ Copy this token to connect to your gateway:"
4. Copy the token from the next line
5. Use token when connecting to the gateway

For launcher deployments:
  â†’ Token is passed automatically via OPENCLAW_GATEWAY_TOKEN
  â†’ Stored securely in deployment database
  â†’ Available in launcher UI with copy button


FOR PERSISTENT TOKEN:
--------------------
Set environment variable before deploy:
  OPENCLAW_GATEWAY_TOKEN=<your-secure-token>

Generate secure token:
  openssl rand -hex 32


SECURITY:
--------
âœ“ Token NOT exposed via public web endpoints
âœ“ Only visible in deployment logs (secure)
âœ“ Launcher stores tokens securely in database
âœ“ Each deployment gets unique token


BEHAVIOR:
--------
âœ“ Gateway starts with auth enabled
âœ“ Token auto-generated if not provided
âœ“ Token printed clearly in logs
âœ“ Secure: no public endpoint exposure
âœ“ Clients connect using the token from logs or launcher UI
